<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="../Styles/main.css">
    <link rel="stylesheet" type="text/css" href="../Styles/footer.css">
    <link rel="stylesheet" type="text/css" href="../Styles/tabs.css">
    <link rel="stylesheet" type="text/css" href="../Styles/tobuylist.css">
    <script
            src="https://code.jquery.com/jquery-3.6.3.js"
            integrity="sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM="
            crossorigin="anonymous">
    </script>
    <script src="script.js"></script>

</head>
<body>
    <div class = "navigation">
        <ul class="top">
            <!--<!ненум список-->
            <li>
                <a class="link" href="main.html">Главное</a>
            </li>
            <li>
                <a class="link" href="iphones.html">iPhone</a>
            </li>
            <li>
                <a class="link" href="history.html">История iPhone</a>
            </li>
            <li>
                <a class="link" href="example.html">Обзоры</a>
            </li>

        </ul>
    </div>
    <section class="mainscreen">
        <div class="abc">
            <h1 align="center"> <b>Life at Apple</b></h1><br>

            <h2><span>Выпускаем каждый год одно и тоже и люди покупают. Но делаем качественно.</span></H2>
        </div>
    </section>
    <section class="cards" >

            <div class="card" style="background-image: url('../img1card.jpg');">

                <h3>WWDC2023</h3>
                <p>APPLE WORLDRIDE APP DEVELOPERS</p>
                <a href="#">Learn more ></a>
            </div>
            <div class="card" style="background-image: url('../img2card.jpg');">

                <h3>MacBook Pro</h3>
                <p>supercharged by M2 and M2 Max</p>
                <a href="#">Learn more ></a>
            </div>
            <div class="card" style="background-image: url('../ipads.jpg');padding-top: 2%">

                <h3>iPad</h3>
                <p>Lovable. Drawable. Magical</p>
                <a href="#">Learn more ></a>
            </div>
            <div class="card" style="background-image: url('../macbookpro1.jpeg');padding-top: 2%;">

                <h3>IMac</h3>
                <p>Advanced technologies</p>
                <a href="#">Buy ></a>
            </div>

    </section>

        <section class="container">
            <ul class="container--tabs"></ul>
            <div class="container--content"></div>
        </section>

    <div class="todos">
        <div>
        <h2>Список покупок</h2>
        <form id="todo-form">
            <label for="todo-title">Товар:</label>
            <input type="text" id="todo-title" name="todo-title" required>
            <br>
            <label for="todo-description">Зачем покупаю:</label>
            <textarea id="todo-description" name="todo-description"></textarea>
            <br>
            <button type="submit" id="todo-submit">Добавить</button>
        </form>
        </div>
        <div>
        <ul id="todo-list">
            <!-- список задач будет отображаться здесь -->
        </ul>
        </div>
    </div>
    <footer>
        <div class="footer-content">
            <div class="footer-section about">
                <h3 class="footer-heading">Покупки</h3>
                <ul>
                <li><a href="#">Shop and Learn</a>
                <li><a href="#">Store</a>
                <li><a href="#">Mac</a>
                <li><a href="#">iPad</a>
                <li><a href="#">iPhone</a>
                <li><a href="#">Watch</a>
                <li><a href="#">AirPods</a>
                <li><a href="#">TV & Home</a>
                <li><a href="#">AirTag</a>
                <li><a href="#">Accessories</a>
                <li><a href="#">Gift Cards</a>
                </ul>
            </div>
            <div class="footer-section">
                <h3 class="footer-heading">Ссылки</h3>
                <ul>
                    <li><a href="#">Главная</a></li>
                    <li><a href="#">Условия использования</a></li>
                    <li><a href="#">Конфиденциальность</a></li>
                    <li><a href="#">Контакты</a></li>
                </ul>
            </div>
            <div>
                <h3 class="footer-heading">О нас</h3>
                <ul>
                    <li><a href="#">О компании Apple</a></li>
                    <li><a href="#">Newsroom</a></li>
                    <li><a href="#">Руководство Apple</a></li>
                    <li><a href="#">Карьера в Apple</a></li>
                    <li><a href="#">Гарантия</a></li>
                    <li><a href="#">Инвесторы</a></li>
                    <li><a href="#">Этика и соответствие</a></li>
                    <li><a href="#">Презентации</a></li>
                    <li><a href="#">Контактная информация</a></li>
                </ul>
            </div>
        </div>




        <!--        <script>-->
<!--            // получаем массив всех вкладок-->
<!--            const tabs = document.querySelectorAll(".tab");-->
<!--            // получаем массив всех блоков с содержимым вкладок-->
<!--            const contents = document.querySelectorAll(".content");-->

<!--            // запускаем цикл для каждой вкладки и добавляем на неё событие-->
<!--            for (let i = 0; i < tabs.length; i++) {-->
<!--                tabs[i].addEventListener("click", ( event ) => {-->

<!--                    // сначала нам нужно удалить активный класс именно с вкладок-->
<!--                    let currentTabs = event.target.parentElement.children;-->
<!--                    for (let t = 0; t < currentTabs.length; t++) {-->
<!--                        currentTabs[t].classList.remove("tab&#45;&#45;active");-->
<!--                    }-->
<!--                    // добавляем активный класс-->
<!--                    tabs[i].classList.add("tab&#45;&#45;active");-->
<!--                    // теперь нужно удалить активный класс с блоков содержимого вкладок-->
<!--                    let tabContentChildren = event.target.parentElement.nextElementSibling.children;-->
<!--                    for (let c = 0; c < tabContentChildren.length; c++) {-->
<!--                        tabContentChildren[c].classList.remove("content&#45;&#45;active");-->
<!--                    }-->
<!--                    // добавляем активный класс-->
<!--                    contents[i].classList.add("content&#45;&#45;active");-->

<!--                });-->
<!--            }-->

<!--        </script>-->
    </footer>
        <script>
            const tabsContainer = document.querySelector('.container--tabs');
            const contentContainer = document.querySelector('.container--content');
            fetch('../data.json')
                .then(response => response.json())
                .then(data => {
                    //  Создание вкладок (li В ul)
                    data.forEach((iphone, index) => {
                        const tab = document.createElement('li');
                        tab.className = 'tab' + (index == 0 ? ' tab--active' : '');
                        tab.textContent = iphone.title;
                        tabsContainer.appendChild(tab);

                        // Создание контетной части
                        const content = document.createElement('div');
                        content.className = 'content' + (index == 0 ? ' content--active' : '');
                        content.innerHTML = `
                        <h2>${iphone.title}</h2>
                        <p>${iphone.description}</p>
                        <iframe
                            width="100%"
                            height="315"
                            src="${iphone.videoUrl}"
                            title="YouTube video player"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                            allowfullscreen>
                        </iframe>`;
                        contentContainer.appendChild(content);
                    });

                    // Для каждой вкладки добавлю лисенеры по клику
                    const tabs = document.querySelectorAll('.tab');
                    tabs.forEach((iphone, index) => {
                        iphone.addEventListener('click', () => {
                            // Сделаю все неактивным( и вкладка, и контент)
                            tabs.forEach(tab => iphone.classList.remove('tab--active'));
                            const contents = document.querySelectorAll('.content');
                            contents.forEach(content => content.classList.remove('content--active'));

                            // Сделаю вкладку по которой кликнули активной, и соответсвующий (по индексу) ее контент тоже
                            iphone.classList.add('tab--active');
                            const content = contents[index];
                            content.classList.add('content--active');
                        });
                    });
                });
        </script>
        <script>
            const todoForm = document.getElementById("todo-form");
            const todoTitle = document.getElementById("todo-title");
            const todoDescription = document.getElementById("todo-description");
            const todoList = document.getElementById("todo-list");

            // создаем пустой массив для хранения задач
            let todos = [];
            let c=1;

            // обработчик отправки формы
            todoForm.addEventListener("submit", (event) => {
                // отменяем стандартное поведение браузера при отправке формы
                event.preventDefault();

                // получаем значение заголовка и описания задачи из полей формы
                const title = todoTitle.value;
                const description = todoDescription.value;

                // создаем объект задачи и добавляем его в массив todos
                const todo = { title, description };
                todos.push(todo);

                // создаем элемент списка задач и добавляем его в todoList
                const todoItem = document.createElement("li");
                todoItem.innerText = ` ${c + ") "} ${todo.title}: ${todo.description}`;
                todoList.appendChild(todoItem);
                c += 1;

                // очищаем поля формы
                todoTitle.value = "";
                todoDescription.value = "";
            });

        </script>

</body>
</html>
